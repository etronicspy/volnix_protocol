# üöÄ Volnix Protocol - Production Setup Guide

**–î–∞—Ç–∞:** 19 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 0.1.0-production-ready  

---

## ‚úÖ Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤** | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞** | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **Docker Compose** | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **–ú—É–ª—å—Ç–∏–Ω–æ–¥ —Å–∫—Ä–∏–ø—Ç—ã** | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **–¢–µ—Å—Ç—ã** | ‚úÖ –ü—Ä–æ—Ö–æ–¥—è—Ç |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | ‚úÖ –ì–æ—Ç–æ–≤–∞ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å–∫ 3-–Ω–æ–¥ —Å–µ—Ç–∏ + frontend
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker-compose ps
curl http://localhost:26657/status

# Frontend
open http://localhost:3000
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Native

```bash
# Node 0
VOLNIX_RPC_PORT=26657 VOLNIX_P2P_PORT=26656 ./build/volnixd-standalone start &

# Node 1  
VOLNIX_RPC_PORT=26757 VOLNIX_P2P_PORT=26756 ./build/volnixd-standalone start &

# Node 2
VOLNIX_RPC_PORT=26857 VOLNIX_P2P_PORT=26856 ./build/volnixd-standalone start &
```

---

## üìã –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

1. **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤**
   - `VOLNIX_RPC_PORT` - RPC –ø–æ—Ä—Ç (default: 26657)
   - `VOLNIX_P2P_PORT` - P2P –ø–æ—Ä—Ç (default: 26656)
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ env variables

2. **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**
   - Multi-stage Dockerfile –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
   - Non-root user –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - Health checks
   - Volume persistence

3. **Docker Compose**
   - 3 –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞
   - Frontend Wallet UI
   - Networking –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
   - Auto-restart policies

4. **–°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**
   - `scripts/init-production-network.sh` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
   - `scripts/start-production-network.sh` - –ó–∞–ø—É—Å–∫
   - `scripts/stop-production-network.sh` - –û—Å—Ç–∞–Ω–æ–≤–∫–∞
   - `scripts/test-multinode.sh` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

5. **–¢–µ—Å—Ç—ã**
   - Unit tests (Go): ‚úÖ 20+ —Ç–µ—Å—Ç–æ–≤
   - Frontend tests (TypeScript): ‚úÖ 16 —Ç–µ—Å—Ç–æ–≤
   - E2E tests: ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –≥–æ—Ç–æ–≤—ã

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
VOLNIX_HOME=/home/volnix/.volnix    # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–∞–Ω–Ω—ã—Ö
VOLNIX_RPC_PORT=26657                # RPC –ø–æ—Ä—Ç
VOLNIX_P2P_PORT=26656                # P2P –ø–æ—Ä—Ç

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
VOLNIX_CHAIN_ID=volnix-mainnet-1     # Chain ID
VOLNIX_MONIKER=validator-1           # –ò–º—è —É–∑–ª–∞
VOLNIX_LOG_LEVEL=info                # –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```

### –ü–æ—Ä—Ç—ã

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| **Validator 0** | 26656/26657 | P2P/RPC |
| **Validator 1** | 26756/26757 | P2P/RPC |
| **Validator 2** | 26856/26857 | P2P/RPC |
| **Frontend** | 3000 | Wallet UI |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –º—É–ª—å—Ç–∏–Ω–æ–¥ —Å–µ—Ç–∏

```bash
./scripts/test-multinode.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
1. –°–æ–∑–¥–∞–µ—Ç 3 —É–∑–ª–∞
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π —É–∑–µ–ª
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ –≤—ã—Å–æ—Ç—É –±–ª–æ–∫–æ–≤

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```
‚úÖ –í—Å–µ —É–∑–ª—ã –∑–∞–ø—É—â–µ–Ω—ã!
üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–ó–∞–ø—É—â–µ–Ω–æ —É–∑–ª–æ–≤: 3/3

‚úÖ –í–°–ï –£–ó–õ–´ –†–ê–ë–û–¢–ê–Æ–¢!
üéâ –ú—É–ª—å—Ç–∏–Ω–æ–¥ —Å–µ—Ç—å —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–∞!
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health checks

```bash
# Docker
docker-compose ps

# HTTP health check
curl http://localhost:26657/health

# –°—Ç–∞—Ç—É—Å —É–∑–ª–∞
curl http://localhost:26657/status | jq .result.sync_info
```

### –õ–æ–≥–∏

```bash
# Docker logs
docker-compose logs -f

# Native logs
tail -f mainnet/logs/validator-0.log
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏

**–ö–†–ò–¢–ò–ß–ù–û:** –ó–∞—â–∏—Ç–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤!

```bash
# Backup –∫–ª—é—á–µ–π
docker run --rm -v volnix_validator-0-data:/data -v $(pwd):/backup alpine \
    tar czf /backup/validator-0-keys.tar.gz \
    -C /data/config priv_validator_key.json node_key.json

# –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ backup
gpg --encrypt validator-0-keys.tar.gz
```

### Firewall

```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
ufw allow 26656/tcp  # P2P
ufw allow 26657/tcp  # RPC (—Ç–æ–ª—å–∫–æ –¥–ª—è trusted hosts)
ufw deny 9090/tcp    # gRPC (internal only)
```

---

## üìà Production checklist

- [ ] –°–æ–±—Ä–∞–Ω—ã Docker –æ–±—Ä–∞–∑—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –º—É–ª—å—Ç–∏–Ω–æ–¥ —Å–µ—Ç—å
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã firewall –ø—Ä–∞–≤–∏–ª–∞
- [ ] –ó–∞—â–∏—â–µ–Ω—ã –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω backup
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus/Grafana)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–ª–µ—Ä—Ç—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- [ ] –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –∏–Ω—Ü–∏–¥–µ–Ω—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ testnet
- [ ] Security audit

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –°–µ–≥–æ–¥–Ω—è
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Compose
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ frontend
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
2. –ü—Ä–æ–≤–µ–¥–∏—Ç–µ load testing
3. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –ß–µ—Ä–µ–∑ 1-2 –Ω–µ–¥–µ–ª–∏
1. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ testnet
2. Community testing
3. Security audit
4. Mainnet launch planning

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/`
- üêõ Issues: GitHub Issues
- üí¨ Community: [Discord/Telegram]

---

**üéâ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!**

