<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volnix Wallet Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .network-status {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            text-align: center;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .balance-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 32px;
            border-radius: 16px;
            margin-bottom: 20px;
        }

        .balance-amount {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .tokens-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .token-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .token-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .wrt { background: #667eea; }
        .lzn { background: #10b981; }
        .ant { background: #f59e0b; }

        .button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .tab.active {
            background: white;
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid #e5e7eb;
        }

        .status-connected {
            color: #10b981;
            font-weight: 600;
        }

        .input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 16px;
        }

        .wallet-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .wallet-type {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .wallet-type.current {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîê Volnix Wallet</h1>
            <p>Secure Multi-Token Blockchain Wallet</p>
        </div>

        <div class="network-status">
            <h3>üåê Network Status: Connected</h3>
            <p>3 Validators Active ‚Ä¢ Block Height: 12,345 ‚Ä¢ Chain ID: volnix-testnet-1</p>
        </div>

        <div id="connect-screen">
            <div class="card" style="max-width: 500px; margin: 0 auto; text-align: center;">
                <h2 style="margin-bottom: 20px;">Connect Your Wallet</h2>
                <p style="color: #6b7280; margin-bottom: 30px;">Connect to your Volnix wallet to manage your tokens</p>
                
                <input type="text" class="input" id="wallet-name" placeholder="Enter wallet name">
                <button class="button" onclick="connectWallet()" style="width: 100%; margin-bottom: 20px;">
                    Create & Connect Wallet
                </button>
                
                <div style="margin: 20px 0; color: #6b7280;">or</div>
                
                <button class="button" onclick="connectDemo()" style="width: 100%; background: #10b981;">
                    Connect Demo Wallet
                </button>
            </div>
        </div>

        <div id="wallet-screen" class="hidden">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div style="display: flex; align-items: center;">
                        <span class="status-connected">‚óè Connected</span>
                        <span style="margin-left: 12px; font-family: monospace;" id="wallet-address">
                            volnix1abc123def456ghi789jkl012mno345pqr678stu
                        </span>
                        <span style="margin-left: 12px; padding: 2px 8px; border-radius: 12px; font-size: 12px; font-weight: 600; background: #6b7280; color: white;">
                            GUEST
                        </span>
                    </div>
                    <button class="button" onclick="disconnect()" style="background: #ef4444;">
                        Disconnect
                    </button>
                </div>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="showTab('balance')">üí∞ Balance</button>
                <button class="tab" onclick="showTab('send')">üì§ Send</button>
                <button class="tab" onclick="showTab('history')">üìä History</button>
                <button class="tab" onclick="showTab('types')">üë• Types</button>
                <button class="tab" onclick="showTab('validators')">üëë Validators</button>
            </div>

            <div id="balance-tab" class="tab-content active">
                <div class="balance-card">
                    <div class="balance-amount">$1,627.38</div>
                    <div>Total Portfolio Value</div>
                    <div style="font-size: 14px; opacity: 0.8; margin-top: 8px;">
                        Guest Account ‚Ä¢ Limited Access
                    </div>
                </div>

                <div class="tokens-grid">
                    <div class="token-card">
                        <div class="token-icon wrt">üí∞</div>
                        <h3>1,000.50 WRT</h3>
                        <p>Wealth Rights Token</p>
                        <p style="color: #6b7280; font-size: 14px;">$1,000.50</p>
                    </div>
                    <div class="token-card">
                        <div class="token-icon lzn">üìà</div>
                        <h3>250.75 LZN</h3>
                        <p>Lizenz Token</p>
                        <p style="color: #6b7280; font-size: 14px;">$626.88</p>
                    </div>
                    <div class="token-card" style="opacity: 0.5; position: relative;">
                        <div class="token-icon ant" style="opacity: 0.6;">üõ°Ô∏è</div>
                        <h3 style="color: #9ca3af;">0 ANT</h3>
                        <p style="color: #9ca3af;">Anteil Rights</p>
                        <p style="color: #9ca3af; font-size: 14px;">$0.00</p>
                        <div style="position: absolute; top: 8px; right: 8px; background: #ef4444; color: white; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: bold;">
                            üîí LOCKED
                        </div>
                        <p style="color: #ef4444; font-size: 12px; margin-top: 8px; font-weight: 600;">
                            Requires Citizen status
                        </p>
                    </div>
                </div>

                <div class="card">
                    <h3 style="margin-bottom: 16px;">Quick Actions</h3>
                    <button class="button" style="background: #10b981;">Stake LZN</button>
                    <button class="button" style="background: #6b7280; opacity: 0.6;" disabled title="Requires Citizen status">
                        üîí Claim ANT
                    </button>
                    <button class="button" style="background: #8b5cf6;">Swap Tokens</button>
                </div>
            </div>

            <div id="send-tab" class="tab-content">
                <div class="card" style="max-width: 500px; margin: 0 auto;">
                    <h3 style="margin-bottom: 24px;">üì§ Send Tokens</h3>
                    
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Select Token</label>
                    <select class="input" id="token-select">
                        <option value="WRT">WRT - Wealth Rights Token (Balance: 1000.50)</option>
                        <option value="LZN">LZN - Lizenz Token (Balance: 250.75)</option>
                        <option value="ANT" disabled style="color: #9ca3af;">ANT - Anteil Rights (üîí Requires Citizen status)</option>
                    </select>

                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Recipient Address</label>
                    <input type="text" class="input" placeholder="volnix1abc123def456..." id="recipient">

                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Amount</label>
                    <input type="number" class="input" placeholder="0.00" id="amount" step="0.01" min="0">

                    <div style="background: #f3f4f6; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>Amount:</span>
                            <span id="send-amount">0 WRT</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>Network Fee:</span>
                            <span>0.001 WRT</span>
                        </div>
                        <hr style="margin: 8px 0; border: none; border-top: 1px solid #d1d5db;">
                        <div style="display: flex; justify-content: space-between; font-weight: 600;">
                            <span>Total:</span>
                            <span id="send-total">0 WRT + 0.001 WRT</span>
                        </div>
                    </div>

                    <button class="button" onclick="sendTokens()" style="width: 100%; font-size: 16px; padding: 16px;">
                        Send Tokens
                    </button>
                </div>
            </div>

            <div id="history-tab" class="tab-content">
                <div class="card">
                    <h3 style="margin-bottom: 24px;">üìä Transaction History</h3>
                    
                    <div class="transaction-item">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="color: #10b981;">üì•</div>
                            <div>
                                <div style="font-weight: 600;">Received 100.00 WRT</div>
                                <div style="color: #6b7280; font-size: 14px;">From: volnix1xyz...uvw</div>
                                <div style="color: #9ca3af; font-size: 12px;">2 hours ago</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="color: #10b981; font-weight: 600;">‚úÖ Completed</div>
                            <div style="color: #10b981; font-weight: 600;">+100.00 WRT</div>
                        </div>
                    </div>

                    <div class="transaction-item">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="color: #ef4444;">üì§</div>
                            <div>
                                <div style="font-weight: 600;">Sent 50.25 LZN</div>
                                <div style="color: #6b7280; font-size: 14px;">To: volnix1def...ghi</div>
                                <div style="color: #9ca3af; font-size: 12px;">5 hours ago</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="color: #10b981; font-weight: 600;">‚úÖ Completed</div>
                            <div style="color: #ef4444; font-weight: 600;">-50.25 LZN</div>
                        </div>
                    </div>

                    <div class="transaction-item">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="color: #f59e0b;">‚è≥</div>
                            <div>
                                <div style="font-weight: 600;">Staking 100.00 LZN</div>
                                <div style="color: #6b7280; font-size: 14px;">Validator: node-1</div>
                                <div style="color: #9ca3af; font-size: 12px;">1 day ago</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="color: #f59e0b; font-weight: 600;">‚è≥ Pending</div>
                            <div style="color: #ef4444; font-weight: 600;">-100.00 LZN</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="validators-tab" class="tab-content">
                <div class="card">
                    <h3 style="margin-bottom: 24px;">üëë Validator Wallet Management</h3>
                    
                    <div style="background: #fef3c7; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                        <h4 style="color: #92400e; margin-bottom: 8px;">üèóÔ∏è Create Validator Wallets</h4>
                        <p style="color: #78350f; margin-bottom: 12px;">
                            Create dedicated wallets for each network validator to manage their tokens and participate in consensus.
                        </p>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px;">
                        <div class="wallet-type" id="validator-0-card">
                            <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 12px;">
                                <div>
                                    <div style="font-size: 24px; margin-bottom: 8px;">üü¢</div>
                                    <h4>Node-0 Validator</h4>
                                    <p style="color: #6b7280; font-size: 14px;">Port: 26650 ‚Ä¢ Status: Active</p>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: #ef4444; font-weight: 600;" id="node0-status">NO WALLET</div>
                                </div>
                            </div>
                            
                            <div style="margin: 12px 0;">
                                <input type="text" class="input" placeholder="Validator wallet name" id="validator0-name" value="validator-node-0" style="margin-bottom: 8px;">
                                <button class="button" onclick="createValidatorWallet(0)" style="width: 100%;" id="create-btn-0">
                                    Create Validator Wallet
                                </button>
                            </div>
                            
                            <div id="validator0-info" style="display: none; background: #f0fdf4; padding: 12px; border-radius: 6px; margin-top: 12px;">
                                <div style="font-size: 12px; color: #166534;">
                                    <div><strong>Address:</strong> <span id="validator0-address" style="font-family: monospace;"></span></div>
                                    <div><strong>Balance:</strong> <span id="validator0-balance">1000 WRT, 500 LZN</span></div>
                                    <div><strong>Staked:</strong> <span id="validator0-staked">500 LZN</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="wallet-type" id="validator-1-card">
                            <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 12px;">
                                <div>
                                    <div style="font-size: 24px; margin-bottom: 8px;">üü¢</div>
                                    <h4>Node-1 Validator</h4>
                                    <p style="color: #6b7280; font-size: 14px;">Port: 26651 ‚Ä¢ Status: Active</p>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: #ef4444; font-weight: 600;" id="node1-status">NO WALLET</div>
                                </div>
                            </div>
                            
                            <div style="margin: 12px 0;">
                                <input type="text" class="input" placeholder="Validator wallet name" id="validator1-name" value="validator-node-1" style="margin-bottom: 8px;">
                                <button class="button" onclick="createValidatorWallet(1)" style="width: 100%;" id="create-btn-1">
                                    Create Validator Wallet
                                </button>
                            </div>
                            
                            <div id="validator1-info" style="display: none; background: #f0fdf4; padding: 12px; border-radius: 6px; margin-top: 12px;">
                                <div style="font-size: 12px; color: #166534;">
                                    <div><strong>Address:</strong> <span id="validator1-address" style="font-family: monospace;"></span></div>
                                    <div><strong>Balance:</strong> <span id="validator1-balance">1200 WRT, 750 LZN</span></div>
                                    <div><strong>Staked:</strong> <span id="validator1-staked">750 LZN</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="wallet-type" id="validator-2-card">
                            <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 12px;">
                                <div>
                                    <div style="font-size: 24px; margin-bottom: 8px;">üü¢</div>
                                    <h4>Node-2 Validator</h4>
                                    <p style="color: #6b7280; font-size: 14px;">Port: 26652 ‚Ä¢ Status: Active</p>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: #ef4444; font-weight: 600;" id="node2-status">NO WALLET</div>
                                </div>
                            </div>
                            
                            <div style="margin: 12px 0;">
                                <input type="text" class="input" placeholder="Validator wallet name" id="validator2-name" value="validator-node-2" style="margin-bottom: 8px;">
                                <button class="button" onclick="createValidatorWallet(2)" style="width: 100%;" id="create-btn-2">
                                    Create Validator Wallet
                                </button>
                            </div>
                            
                            <div id="validator2-info" style="display: none; background: #f0fdf4; padding: 12px; border-radius: 6px; margin-top: 12px;">
                                <div style="font-size: 12px; color: #166534;">
                                    <div><strong>Address:</strong> <span id="validator2-address" style="font-family: monospace;"></span></div>
                                    <div><strong>Balance:</strong> <span id="validator2-balance">800 WRT, 600 LZN</span></div>
                                    <div><strong>Staked:</strong> <span id="validator2-staked">600 LZN</span></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card" style="background: #f0f9ff;">
                        <h4 style="color: #1e40af; margin-bottom: 12px;">üìã Validator Management Actions</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                            <button class="button" onclick="stakeAllValidators()" style="background: #10b981;">
                                Auto-Stake All Validators
                            </button>
                            <button class="button" onclick="checkValidatorStatus()" style="background: #3b82f6;">
                                Check Network Status
                            </button>
                            <button class="button" onclick="exportValidatorKeys()" style="background: #8b5cf6;">
                                Export Validator Keys
                            </button>
                            <button class="button" onclick="viewConsensusActivity()" style="background: #f59e0b;">
                                View Consensus Activity
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="types-tab" class="tab-content">
                <div class="card">
                    <h3 style="margin-bottom: 24px;">üë• Wallet Types in Volnix Protocol</h3>
                    
                    <div class="wallet-types">
                        <div class="wallet-type current">
                            <div style="font-size: 32px; margin-bottom: 12px;">üë§</div>
                            <h4>Guest <span style="background: #667eea; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">CURRENT</span></h4>
                            <p style="color: #6b7280; margin: 8px 0;">Basic wallet functionality</p>
                            <ul style="text-align: left; margin: 16px 0;">
                                <li>Store and trade WRT and LZN tokens</li>
                                <li>Basic transaction capabilities</li>
                                <li>Entry point for all users</li>
                            </ul>
                            <p style="font-size: 14px; color: #6b7280;"><strong>Requirements:</strong> None - Default wallet type</p>
                        </div>

                        <div class="wallet-type">
                            <div style="font-size: 32px; margin-bottom: 12px;">üõ°Ô∏è</div>
                            <h4>Citizen</h4>
                            <p style="color: #6b7280; margin: 8px 0;">Verified user with governance rights</p>
                            <ul style="text-align: left; margin: 16px 0;">
                                <li>All Guest features</li>
                                <li>Receive ANT tokens from protocol</li>
                                <li>Participate in governance voting</li>
                                <li>Sell ANT rights on internal market</li>
                            </ul>
                            <p style="font-size: 14px; color: #6b7280;"><strong>Requirements:</strong> ZKP identity verification</p>
                            <button class="button" style="width: 100%; margin-top: 12px; opacity: 0.6;" disabled>
                                üîí Requires Verification
                            </button>
                        </div>

                        <div class="wallet-type">
                            <div style="font-size: 32px; margin-bottom: 12px;">üëë</div>
                            <h4>Validator</h4>
                            <p style="color: #6b7280; margin: 8px 0;">Network validator with consensus rights</p>
                            <ul style="text-align: left; margin: 16px 0;">
                                <li>All Citizen features</li>
                                <li>Activate LZN tokens for staking</li>
                                <li>Participate in network consensus</li>
                                <li>Earn base emission rewards</li>
                            </ul>
                            <p style="font-size: 14px; color: #6b7280;"><strong>Requirements:</strong> ZKP verification + Technical setup</p>
                            <button class="button" style="width: 100%; margin-top: 12px; opacity: 0.6;" disabled>
                                üîí Requires Verification
                            </button>
                        </div>
                    </div>
                </div>

                <div class="card" style="background: #fef3c7;">
                    <h4 style="color: #92400e; margin-bottom: 12px;">üöÄ Want to Upgrade?</h4>
                    <p style="color: #78350f; margin-bottom: 16px;">
                        Upgrade your wallet type to unlock more features and participate more actively in the Volnix ecosystem.
                    </p>
                    <button class="button" onclick="simulateUpgrade()" style="background: #10b981; margin-right: 10px;">Start Verification Process (Demo)</button>
                    <button class="button" style="background: #6b7280;">Learn More</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function connectWallet() {
            const walletName = document.getElementById('wallet-name').value;
            if (!walletName.trim()) {
                alert('Please enter a wallet name');
                return;
            }
            
            document.getElementById('connect-screen').classList.add('hidden');
            document.getElementById('wallet-screen').classList.remove('hidden');
            
            // Simulate wallet creation
            const mockAddress = 'volnix1' + Math.random().toString(36).substring(2, 15) + 'abc123def456';
            document.getElementById('wallet-address').textContent = mockAddress;
        }

        function connectDemo() {
            document.getElementById('connect-screen').classList.add('hidden');
            document.getElementById('wallet-screen').classList.remove('hidden');
        }

        function disconnect() {
            document.getElementById('wallet-screen').classList.add('hidden');
            document.getElementById('connect-screen').classList.remove('hidden');
            document.getElementById('wallet-name').value = '';
        }

        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
        }

        function sendTokens() {
            const recipient = document.getElementById('recipient').value;
            const amount = document.getElementById('amount').value;
            const token = document.getElementById('token-select').value;

            if (!recipient || !amount || parseFloat(amount) <= 0) {
                alert('Please fill in all fields with valid values');
                return;
            }

            alert(`Sending ${amount} ${token} to ${recipient}\n\nTransaction submitted to network!`);
            
            // Clear form
            document.getElementById('recipient').value = '';
            document.getElementById('amount').value = '';
        }

        // Update send preview
        document.getElementById('amount').addEventListener('input', function() {
            const amount = this.value || '0';
            const token = document.getElementById('token-select').value;
            document.getElementById('send-amount').textContent = amount + ' ' + token;
            document.getElementById('send-total').textContent = amount + ' ' + token + ' + 0.001 WRT';
        });

        document.getElementById('token-select').addEventListener('change', function() {
            const amount = document.getElementById('amount').value || '0';
            const token = this.value;
            document.getElementById('send-amount').textContent = amount + ' ' + token;
            document.getElementById('send-total').textContent = amount + ' ' + token + ' + 0.001 WRT';
        });

        function simulateUpgrade() {
            if (confirm('Simulate wallet upgrade to Citizen status?\n\nThis will unlock ANT tokens and additional features.')) {
                // Update wallet status
                document.querySelector('.card span:last-child').textContent = 'CITIZEN';
                document.querySelector('.card span:last-child').style.background = '#10b981';
                
                // Update balance
                document.querySelector('.balance-amount').textContent = '$1,727.38';
                
                // Update ANT token display
                const antCard = document.querySelector('.token-card:last-child');
                antCard.style.opacity = '1';
                antCard.querySelector('h3').textContent = '10 ANT';
                antCard.querySelector('h3').style.color = 'inherit';
                antCard.querySelector('.token-icon').style.opacity = '1';
                antCard.querySelectorAll('p').forEach(p => p.style.color = p.style.color === 'rgb(156, 163, 175)' ? '#6b7280' : p.style.color);
                antCard.querySelector('p:last-child').textContent = '$100.00';
                antCard.querySelector('div[style*="position: absolute"]').remove();
                
                // Enable ANT option in send
                const antOption = document.querySelector('option[value="ANT"]');
                antOption.disabled = false;
                antOption.textContent = 'ANT - Anteil Rights (Balance: 10)';
                antOption.style.color = 'inherit';
                
                // Enable Claim ANT button
                const claimButton = document.querySelector('button[title="Requires Citizen status"]');
                claimButton.disabled = false;
                claimButton.style.opacity = '1';
                claimButton.style.background = '#f59e0b';
                claimButton.textContent = 'Claim ANT';
                claimButton.removeAttribute('title');
                
                alert('üéâ Wallet upgraded to Citizen status!\n\n‚úÖ ANT tokens unlocked\n‚úÖ Governance rights activated\n‚úÖ Additional features available');
            }
        }

        // Validator wallet management functions
        let validatorWallets = {};
        let nodeConnections = {}; // Track wallet-node connections

        function createValidatorWallet(nodeId) {
            const walletName = document.getElementById(`validator${nodeId}-name`).value;
            if (!walletName.trim()) {
                alert('Please enter a wallet name for the validator');
                return;
            }

            // Simulate wallet creation
            const button = document.getElementById(`create-btn-${nodeId}`);
            const status = document.getElementById(`node${nodeId}-status`);
            
            button.textContent = 'Creating...';
            button.disabled = true;

            setTimeout(() => {
                // Generate mock validator address
                const mockAddress = `volnix1val${nodeId}` + Math.random().toString(36).substring(2, 15) + 'validator';
                
                // Store validator wallet info
                validatorWallets[nodeId] = {
                    name: walletName,
                    address: mockAddress,
                    balance: {
                        wrt: nodeId === 0 ? 1000 : nodeId === 1 ? 1200 : 800,
                        lzn: nodeId === 0 ? 500 : nodeId === 1 ? 750 : 600
                    },
                    staked: nodeId === 0 ? 500 : nodeId === 1 ? 750 : 600,
                    created: new Date()
                };

                // Update UI
                document.getElementById(`validator${nodeId}-address`).textContent = mockAddress;
                document.getElementById(`validator${nodeId}-info`).style.display = 'block';
                
                status.textContent = 'WALLET ACTIVE';
                status.style.color = '#10b981';
                
                button.textContent = 'Wallet Created ‚úÖ';
                button.style.background = '#10b981';
                button.style.opacity = '0.8';

                // Update validator card styling
                const card = document.getElementById(`validator-${nodeId}-card`);
                card.style.borderColor = '#f59e0b'; // Orange - wallet created but not connected
                card.style.background = '#fefbf3';

                // Add connection button
                button.outerHTML = `
                    <button class="button" onclick="connectWalletToNode(${nodeId})" style="width: 100%; background: #f59e0b;">
                        üîó Connect to Node-${nodeId}
                    </button>
                `;

                alert(`üéâ Validator wallet created successfully!\n\n` +
                      `üìõ Name: ${walletName}\n` +
                      `üìç Address: ${mockAddress.substring(0, 20)}...\n` +
                      `üí∞ Initial Balance: ${validatorWallets[nodeId].balance.wrt} WRT, ${validatorWallets[nodeId].balance.lzn} LZN\n` +
                      `üîí Auto-staked: ${validatorWallets[nodeId].staked} LZN\n\n` +
                      `‚ö†Ô∏è IMPORTANT: Connect wallet to node to start earning rewards!`);
            }, 2000);
        }

        function stakeAllValidators() {
            const createdValidators = Object.keys(validatorWallets);
            if (createdValidators.length === 0) {
                alert('‚ùå No validator wallets created yet!\n\nPlease create validator wallets first.');
                return;
            }

            let stakeInfo = 'üîí Auto-staking all validators:\n\n';
            createdValidators.forEach(nodeId => {
                const validator = validatorWallets[nodeId];
                stakeInfo += `‚Ä¢ Node-${nodeId}: ${validator.staked} LZN staked\n`;
            });
            stakeInfo += '\n‚úÖ All validators are now participating in consensus!';
            
            alert(stakeInfo);
        }

        function checkValidatorStatus() {
            const createdValidators = Object.keys(validatorWallets);
            if (createdValidators.length === 0) {
                alert('‚ùå No validator wallets created yet!');
                return;
            }

            let statusInfo = 'üåê Network Validator Status:\n\n';
            statusInfo += `üìä Active Validators: ${createdValidators.length}/3\n`;
            statusInfo += `‚ö° Network Health: ${createdValidators.length === 3 ? '100%' : Math.round((createdValidators.length/3)*100) + '%'}\n`;
            statusInfo += `üî• Consensus: ${createdValidators.length >= 2 ? 'Active (PoVB)' : 'Waiting for validators'}\n\n`;
            
            createdValidators.forEach(nodeId => {
                const validator = validatorWallets[nodeId];
                statusInfo += `üü¢ Node-${nodeId}: ${validator.name}\n`;
                statusInfo += `   Staked: ${validator.staked} LZN\n`;
                statusInfo += `   Status: Active & Validating\n\n`;
            });

            alert(statusInfo);
        }

        function exportValidatorKeys() {
            const createdValidators = Object.keys(validatorWallets);
            if (createdValidators.length === 0) {
                alert('‚ùå No validator wallets to export!');
                return;
            }

            let exportData = 'üîê Validator Keys Export:\n\n';
            createdValidators.forEach(nodeId => {
                const validator = validatorWallets[nodeId];
                exportData += `Node-${nodeId} (${validator.name}):\n`;
                exportData += `Address: ${validator.address}\n`;
                exportData += `Created: ${validator.created.toLocaleString()}\n`;
                exportData += `Staked: ${validator.staked} LZN\n\n`;
            });
            
            exportData += '‚ö†Ô∏è In production, this would export actual private keys securely.';
            alert(exportData);
        }

        function connectWalletToNode(nodeId) {
            const wallet = validatorWallets[nodeId];
            if (!wallet) {
                alert('‚ùå No wallet found for this node!');
                return;
            }

            // Simulate connection process
            const button = document.querySelector(`#validator-${nodeId}-card button`);
            button.textContent = 'üîÑ Connecting...';
            button.disabled = true;

            setTimeout(() => {
                // Mark as connected
                nodeConnections[nodeId] = {
                    connected: true,
                    connectedAt: new Date(),
                    rewardsEarned: 0,
                    blocksValidated: 0
                };

                // Update UI
                const card = document.getElementById(`validator-${nodeId}-card`);
                card.style.borderColor = '#10b981'; // Green - connected and earning
                card.style.background = '#f0fdf4';

                const status = document.getElementById(`node${nodeId}-status`);
                status.textContent = 'CONNECTED & EARNING';
                status.style.color = '#10b981';

                // Update button
                button.textContent = '‚úÖ Connected & Earning';
                button.style.background = '#10b981';
                button.disabled = true;

                // Add rewards info to validator info
                const validatorInfo = document.getElementById(`validator${nodeId}-info`);
                validatorInfo.innerHTML += `
                    <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid #d1d5db;">
                        <div><strong>Status:</strong> Connected & Earning Rewards</div>
                        <div><strong>Connected:</strong> ${new Date().toLocaleTimeString()}</div>
                        <div><strong>Rewards Earned:</strong> <span id="rewards-${nodeId}">0 WRT</span></div>
                        <div><strong>Blocks Validated:</strong> <span id="blocks-${nodeId}">0</span></div>
                    </div>
                `;

                // Start earning simulation
                startEarningRewards(nodeId);

                alert(`üéâ Wallet successfully connected to Node-${nodeId}!\n\n` +
                      `‚úÖ Node is now authorized to earn rewards\n` +
                      `üí∞ Rewards will be sent to: ${wallet.address.substring(0, 20)}...\n` +
                      `üî• Participating in PoVB consensus\n` +
                      `üìä Block validation rewards: ~5-10 WRT per block\n\n` +
                      `üöÄ Your validator is now fully operational!`);
            }, 3000);
        }

        function startEarningRewards(nodeId) {
            // Simulate earning rewards every 10 seconds
            setInterval(() => {
                if (nodeConnections[nodeId] && nodeConnections[nodeId].connected) {
                    // Random reward between 5-10 WRT
                    const reward = Math.floor(Math.random() * 6) + 5;
                    nodeConnections[nodeId].rewardsEarned += reward;
                    nodeConnections[nodeId].blocksValidated += 1;

                    // Update UI
                    const rewardsElement = document.getElementById(`rewards-${nodeId}`);
                    const blocksElement = document.getElementById(`blocks-${nodeId}`);
                    
                    if (rewardsElement) {
                        rewardsElement.textContent = `${nodeConnections[nodeId].rewardsEarned} WRT`;
                    }
                    if (blocksElement) {
                        blocksElement.textContent = nodeConnections[nodeId].blocksValidated;
                    }

                    // Update validator balance
                    validatorWallets[nodeId].balance.wrt += reward;
                }
            }, 10000); // Every 10 seconds
        }

        function disconnectWalletFromNode(nodeId) {
            if (!nodeConnections[nodeId] || !nodeConnections[nodeId].connected) {
                alert('‚ùå Wallet is not connected to this node!');
                return;
            }

            if (confirm(`‚ö†Ô∏è Disconnect wallet from Node-${nodeId}?\n\nThis will stop earning rewards until reconnected.`)) {
                nodeConnections[nodeId].connected = false;

                // Update UI
                const card = document.getElementById(`validator-${nodeId}-card`);
                card.style.borderColor = '#ef4444';
                card.style.background = '#fef2f2';

                const status = document.getElementById(`node${nodeId}-status`);
                status.textContent = 'DISCONNECTED';
                status.style.color = '#ef4444';

                alert(`üîå Wallet disconnected from Node-${nodeId}\n\n‚ùå No longer earning rewards\n‚ö†Ô∏è Node continues validating but rewards are not distributed`);
            }
        }

        function viewConsensusActivity() {
            const createdValidators = Object.keys(validatorWallets);
            if (createdValidators.length === 0) {
                alert('‚ùå No validator wallets created yet!');
                return;
            }

            let consensusInfo = '‚öñÔ∏è PoVB Consensus Activity:\n\n';
            consensusInfo += `üî• Current Round: #2,468\n`;
            consensusInfo += `‚è±Ô∏è Time Remaining: 3m 45s\n`;
            consensusInfo += `üèÜ Leading: Node-1 (150 ANT burned)\n\n`;
            
            consensusInfo += 'üìä Validator Participation:\n';
            createdValidators.forEach(nodeId => {
                const connection = nodeConnections[nodeId];
                const isConnected = connection && connection.connected;
                const burnAmount = Math.floor(Math.random() * 100) + 50;
                
                consensusInfo += `‚Ä¢ Node-${nodeId}: ${burnAmount} ANT burned`;
                if (isConnected) {
                    consensusInfo += ` ‚úÖ (Earning rewards)`;
                } else {
                    consensusInfo += ` ‚ö†Ô∏è (No rewards - wallet not connected)`;
                }
                consensusInfo += '\n';
            });
            
            const connectedCount = Object.values(nodeConnections).filter(c => c && c.connected).length;
            consensusInfo += `\nüí∞ Earning validators: ${connectedCount}/${createdValidators.length}`;
            alert(consensusInfo);
        }
    </script>
</body>
</html>