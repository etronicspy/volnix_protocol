---
alwaysApply: true
---

# CRITICAL: CosmJS Chain-ID and Sync Info Requirements

## Problem
CosmJS fails with "must provide a non-empty value" when connecting to node. Root cause: CometBFT returns empty `sync_info` fields when no blocks exist, and CosmJS cannot decode empty protobuf strings.

## Solution (MANDATORY)
1. Always configure CreateEmptyBlocks: `config.Consensus.CreateEmptyBlocks = true`, `CreateEmptyBlocksInterval = 0`
2. Always reset `priv_validator_state.json` on startup (not just when file exists): `{"height":"0","round":0,"step":0}`
3. Always re-apply settings before writing config file to ensure they're in file and memory
4. Verify blocks created immediately: Check `/status` endpoint - `latest_block_height` > 0 within seconds, `latest_block_hash` not empty

## Files to Check
- `cmd/volnixd-standalone/main.go`: NewStandaloneServer() and initializeFiles()
- `testnet/node0/.volnix/config/config.toml`: `create_empty_blocks = true`

## Testing
- After node start: `curl http://localhost:26657/status | jq .result.sync_info.latest_block_height`
- Should be > 0 within 5 seconds, if 0 check logs and validator state

## NEVER
- Remove CreateEmptyBlocks settings
- Skip priv_validator_state.json reset
- Use CreateEmptyBlocks = false
