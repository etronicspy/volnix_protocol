<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volnix Protocol - System Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        .diagram-container {
            padding: 40px;
            text-align: center;
            background: #f8f9fa;
        }
        .mermaid {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        .description {
            background: white;
            padding: 30px;
            margin: 20px 0;
            border-radius: 10px;
            text-align: left;
        }
        .description h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        .layer {
            margin: 15px 0;
            padding: 10px;
            background: #f1f3f4;
            border-radius: 5px;
            border-left: 4px solid #667eea;
        }
        .layer strong {
            color: #2c3e50;
        }
        .footer {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Volnix Protocol</h1>
            <p>–°–∏—Å—Ç–µ–º–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–ª–æ–∫—á–µ–π–Ω-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</p>
        </div>
        
        <div class="diagram-container">
            <div class="mermaid">
graph TB
    subgraph "External Layer"
        USERS[üë• Users & Applications]
        EXCHANGES[üè¶ Exchanges & Partners]
        DEVS[üë®‚Äçüíª Developers & dApps]
    end
    
    subgraph "Interface Layer"
        WUI[üì± Wallet UI<br/>React + TypeScript]
        BE[üîç Blockchain Explorer<br/>HTML/JS + PowerShell]
        CLI[‚å®Ô∏è CLI Tools<br/>volnixd commands]
        SDK[üõ†Ô∏è Developer SDK<br/>CosmJS Integration]
    end
    
    subgraph "API Gateway Layer"
        REST[üåê REST API<br/>Port 1317]
        GRPC[‚ö° gRPC API<br/>Port 9090]
        GRPCWEB[üåç gRPC-Web<br/>Port 9091]
        RPC[üì° RPC Server<br/>Port 26657]
    end
    
    subgraph "Application Layer"
        APP[üèóÔ∏è Volnix App<br/>Cosmos SDK v0.53.4]
        ABCI[üîó ABCI Interface<br/>Application-Consensus Bridge]
        MM[üìã Module Manager<br/>Lifecycle & Routing]
    end
    
    subgraph "Custom Modules"
        IDENT[üÜî x/ident<br/>Identity & ZKP<br/>Role Management]
        LIZENZ[üìú x/lizenz<br/>License Management<br/>MOA Monitoring]
        ANTEIL[üíπ x/anteil<br/>Internal Market<br/>ANT Trading]
        CONSENSUS[‚öñÔ∏è x/consensus<br/>PoVB Logic<br/>Validator Selection]
    end
    
    subgraph "Consensus Layer"
        COMETBFT[üî• CometBFT v0.38.17<br/>Byzantine Fault Tolerant<br/>Consensus Engine]
        MEMPOOL[üìù Transaction Mempool<br/>Pending Transactions]
        VALIDATOR[üëë Validator Set<br/>Active Block Creators]
    end
    
    subgraph "Storage Layer"
        STATE[üíæ State Store<br/>GoLevelDB<br/>Current State]
        BLOCKS[üì¶ Block Store<br/>GoLevelDB<br/>Historical Blocks]
        IAVL[üå≥ IAVL Tree<br/>Merkle Proofs<br/>State Verification]
    end
    
    subgraph "Network Layer"
        P2P[üåê P2P Network<br/>Port 26656<br/>Inter-node Communication]
        SYNC[üîÑ State Sync<br/>Fast Synchronization]
        GOSSIP[üì¢ Block Gossip<br/>Block Propagation]
    end
    
    USERS --> WUI
    USERS --> BE
    DEVS --> CLI
    DEVS --> SDK
    EXCHANGES --> REST
    
    WUI --> REST
    BE --> RPC
    CLI --> APP
    SDK --> GRPC
    
    REST --> APP
    GRPC --> APP
    GRPCWEB --> APP
    RPC --> APP
    
    APP --> ABCI
    APP --> MM
    MM --> IDENT
    MM --> LIZENZ
    MM --> ANTEIL
    MM --> CONSENSUS
    
    ABCI --> COMETBFT
    COMETBFT --> MEMPOOL
    COMETBFT --> VALIDATOR
    
    IDENT --> STATE
    LIZENZ --> STATE
    ANTEIL --> STATE
    CONSENSUS --> STATE
    
    STATE --> IAVL
    COMETBFT --> BLOCKS
    
    COMETBFT --> P2P
    P2P --> SYNC
    P2P --> GOSSIP
            </div>
            
            <div class="description">
                <h3>üìã –û–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Å–ª–æ–µ–≤</h3>
                
                <div class="layer">
                    <strong>External Layer (–í–Ω–µ—à–Ω–∏–π —Å–ª–æ–π):</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –±–∏—Ä–∂–∏, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –≤–Ω–µ—à–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º Volnix.
                </div>
                
                <div class="layer">
                    <strong>Interface Layer (–°–ª–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤):</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–∫–ª—é—á–∞—è –≤–µ–±-–∫–æ—à–µ–ª–µ–∫, –±–ª–æ–∫—á–µ–π–Ω-—ç–∫—Å–ø–ª–æ—Ä–µ—Ä, CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ SDK –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
                </div>
                
                <div class="layer">
                    <strong>API Gateway Layer (–°–ª–æ–π API —à–ª—é–∑–æ–≤):</strong> –†–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã —Å–≤—è–∑–∏ - REST API –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, gRPC –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∏ RPC –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º.
                </div>
                
                <div class="layer">
                    <strong>Application Layer (–°–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π):</strong> –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Volnix –Ω–∞ –±–∞–∑–µ Cosmos SDK, ABCI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–≤—è–∑–∏ —Å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–æ–º, –∏ –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–¥—É–ª–µ–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º.
                </div>
                
                <div class="layer">
                    <strong>Custom Modules (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–æ–¥—É–ª–∏):</strong> –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ Volnix - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å—é (ident), –ª–∏—Ü–µ–Ω–∑–∏–∏ (lizenz), –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä—ã–Ω–æ–∫ (anteil), –∏ –∫–æ–Ω—Å–µ–Ω—Å—É—Å PoVB (consensus).
                </div>
                
                <div class="layer">
                    <strong>Consensus Layer (–°–ª–æ–π –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞):</strong> CometBFT –¥–≤–∏–∂–æ–∫ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞, –ø—É–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (mempool) –∏ –Ω–∞–±–æ—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤.
                </div>
                
                <div class="layer">
                    <strong>Storage Layer (–°–ª–æ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è):</strong> –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –±–ª–æ–∫–æ–≤ –Ω–∞ –±–∞–∑–µ GoLevelDB, –ø–ª—é—Å IAVL –¥–µ—Ä–µ–≤—å—è –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤.
                </div>
                
                <div class="layer">
                    <strong>Network Layer (–°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π):</strong> P2P —Å–µ—Ç—å –¥–ª—è –º–µ–∂—É–∑–ª–æ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤.
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Volnix Protocol - –°—É–≤–µ—Ä–µ–Ω–Ω—ã–π –±–ª–æ–∫—á–µ–π–Ω –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å –≥–∏–±—Ä–∏–¥–Ω—ã–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–æ–º PoVB</p>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>